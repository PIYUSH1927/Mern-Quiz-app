{"ast":null,"code":"var _s = $RefreshSig$();\n//  fetch question hook to fetch api data and set value to store\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getServerData } from \"../helper/helper\";\n\n// redux action\nimport * as Action from '../redux/question_reducer';\n\n/** fetch question hook to fetch api data and set value to store */\nexport const useFetchQuestion = () => {\n  _s();\n  const dispatch = useDispatch();\n  const [getData, setGetData] = useState({\n    isLoading: false,\n    apiData: [],\n    serverError: null\n  });\n  useEffect(() => {\n    setGetData(prev => ({\n      ...prev,\n      isLoading: true\n    }));\n\n    // async function fetch backend data\n    (async () => {\n      try {\n        const [{\n          questions,\n          answers\n        }] = await getServerData(`${process.env.REACT_APP_SERVER_HOSTNAME}/api/questions`, data => data);\n        if (questions.length > 0) {\n          setGetData(prev => ({\n            ...prev,\n            isLoading: false\n          }));\n          setGetData(prev => ({\n            ...prev,\n            apiData: {\n              questions\n            }\n          }));\n\n          // dispatch an action\n          dispatch(Action.startExamAction({\n            question: questions,\n            answers\n          }));\n        } else {\n          throw new Error('NO Question Available');\n        }\n      } catch (error) {\n        setGetData(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        setGetData(prev => ({\n          ...prev,\n          serverError: error\n        }));\n      }\n    })();\n  }, [dispatch]);\n  return [getData, setGetData];\n};\n\n// move action dispatch function\n_s(useFetchQuestion, \"0RDtExEi/99eV0dD5dQwfbGa9No=\", false, function () {\n  return [useDispatch];\n});\nexport const MoveNextQuestion = () => async dispatch => {\n  try {\n    // icrease trace value by 1\n    dispatch(Action.moveNextAction());\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// prev action dispatch function\nexport const MovePrevQuestion = () => async dispatch => {\n  try {\n    // decrease trace value by 1\n    dispatch(Action.movePrevAction());\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["useEffect","useState","useDispatch","getServerData","Action","useFetchQuestion","_s","dispatch","getData","setGetData","isLoading","apiData","serverError","prev","questions","answers","process","env","REACT_APP_SERVER_HOSTNAME","data","length","startExamAction","question","Error","error","MoveNextQuestion","moveNextAction","console","log","MovePrevQuestion","movePrevAction"],"sources":["C:/Users/HP/Downloads/quiz/client/src/hooks/FetchQuestion.js"],"sourcesContent":["//  fetch question hook to fetch api data and set value to store\n\nimport { useEffect, useState } from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport { getServerData } from \"../helper/helper\"\n\n\n// redux action\nimport * as Action from '../redux/question_reducer'\n\n/** fetch question hook to fetch api data and set value to store */\nexport const useFetchQuestion = () =>{\n    const dispatch =  useDispatch()\n    const [getData, setGetData] = useState({isLoading : false, apiData : [], serverError : null})\n\n    useEffect(() => {\n        setGetData(prev => ({...prev, isLoading : true}));\n\n        // async function fetch backend data\n        (async () => {\n            try{\n                const [{questions, answers}] = await getServerData(`${process.env.REACT_APP_SERVER_HOSTNAME}/api/questions`,(data) => data)\n                \n\n                if(questions.length > 0){\n                    setGetData(prev => ({...prev, isLoading : false}));\n                    setGetData(prev => ({...prev, apiData : {questions}}));\n\n                    // dispatch an action\n                     dispatch(Action.startExamAction({question : questions,answers}))\n                }\n                else{\n                    throw new Error('NO Question Available')\n                }\n            }\n            catch(error){\n                setGetData(prev => ({...prev, isLoading : false}))\n                setGetData(prev => ({...prev, serverError : error}))\n            }\n        })();\n\n    },[dispatch]);\n\n    return [getData,setGetData];\n}\n\n// move action dispatch function\nexport const MoveNextQuestion = () => async (dispatch) =>{\n    try{\n        // icrease trace value by 1\n        dispatch(Action.moveNextAction())   \n    }\n    catch(error){\n        console.log(error);\n    }\n}\n\n// prev action dispatch function\nexport const MovePrevQuestion = () => async (dispatch) =>{\n    try{\n        // decrease trace value by 1\n        dispatch(Action.movePrevAction())\n    }\n    catch(error){\n        console.log(error);\n    }\n}"],"mappings":";AAAA;;AAEA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,aAAa,QAAQ,kBAAkB;;AAGhD;AACA,OAAO,KAAKC,MAAM,MAAM,2BAA2B;;AAEnD;AACA,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAK;EAAAC,EAAA;EACjC,MAAMC,QAAQ,GAAIL,WAAW,CAAC,CAAC;EAC/B,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC;IAACS,SAAS,EAAG,KAAK;IAAEC,OAAO,EAAG,EAAE;IAAEC,WAAW,EAAG;EAAI,CAAC,CAAC;EAE7FZ,SAAS,CAAC,MAAM;IACZS,UAAU,CAACI,IAAI,KAAK;MAAC,GAAGA,IAAI;MAAEH,SAAS,EAAG;IAAI,CAAC,CAAC,CAAC;;IAEjD;IACA,CAAC,YAAY;MACT,IAAG;QACC,MAAM,CAAC;UAACI,SAAS;UAAEC;QAAO,CAAC,CAAC,GAAG,MAAMZ,aAAa,CAAE,GAAEa,OAAO,CAACC,GAAG,CAACC,yBAA0B,gBAAe,EAAEC,IAAI,IAAKA,IAAI,CAAC;QAG3H,IAAGL,SAAS,CAACM,MAAM,GAAG,CAAC,EAAC;UACpBX,UAAU,CAACI,IAAI,KAAK;YAAC,GAAGA,IAAI;YAAEH,SAAS,EAAG;UAAK,CAAC,CAAC,CAAC;UAClDD,UAAU,CAACI,IAAI,KAAK;YAAC,GAAGA,IAAI;YAAEF,OAAO,EAAG;cAACG;YAAS;UAAC,CAAC,CAAC,CAAC;;UAEtD;UACCP,QAAQ,CAACH,MAAM,CAACiB,eAAe,CAAC;YAACC,QAAQ,EAAGR,SAAS;YAACC;UAAO,CAAC,CAAC,CAAC;QACrE,CAAC,MACG;UACA,MAAM,IAAIQ,KAAK,CAAC,uBAAuB,CAAC;QAC5C;MACJ,CAAC,CACD,OAAMC,KAAK,EAAC;QACRf,UAAU,CAACI,IAAI,KAAK;UAAC,GAAGA,IAAI;UAAEH,SAAS,EAAG;QAAK,CAAC,CAAC,CAAC;QAClDD,UAAU,CAACI,IAAI,KAAK;UAAC,GAAGA,IAAI;UAAED,WAAW,EAAGY;QAAK,CAAC,CAAC,CAAC;MACxD;IACJ,CAAC,EAAE,CAAC;EAER,CAAC,EAAC,CAACjB,QAAQ,CAAC,CAAC;EAEb,OAAO,CAACC,OAAO,EAACC,UAAU,CAAC;AAC/B,CAAC;;AAED;AAAAH,EAAA,CAnCaD,gBAAgB;EAAA,QACPH,WAAW;AAAA;AAmCjC,OAAO,MAAMuB,gBAAgB,GAAGA,CAAA,KAAM,MAAOlB,QAAQ,IAAI;EACrD,IAAG;IACC;IACAA,QAAQ,CAACH,MAAM,CAACsB,cAAc,CAAC,CAAC,CAAC;EACrC,CAAC,CACD,OAAMF,KAAK,EAAC;IACRG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EACtB;AACJ,CAAC;;AAED;AACA,OAAO,MAAMK,gBAAgB,GAAGA,CAAA,KAAM,MAAOtB,QAAQ,IAAI;EACrD,IAAG;IACC;IACAA,QAAQ,CAACH,MAAM,CAAC0B,cAAc,CAAC,CAAC,CAAC;EACrC,CAAC,CACD,OAAMN,KAAK,EAAC;IACRG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EACtB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}